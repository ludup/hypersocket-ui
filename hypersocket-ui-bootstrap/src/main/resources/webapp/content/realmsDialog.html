<div class="modal" id="addRealmForm" tabindex="-1" role="dialog"
		dialog-for="realmsContent">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header lb-modal-header-text-reverse">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title"></h4>
				</div>
				<div class="modal-body">
					<div class="propertyItem form-group lb-row">
						<label class="col-md-3 control-label" localize="realm.name.label"></label>
						<div class="propertyValue col-md-9">
							<input type="text" class="form-control"
								 id="name" maxlength="" name="name" value="">
							<div>
								<span class="lb-help-block form-text text-muted mt-2 mb-3 pl-1" localize="realm.name.info"></span>
							</div>
						</div>
					</div>
					<div class="propertyItem form-group lb-row">
						<label for="type" class="col-md-3 control-label"
							localize="realm.resourceCategory.label"></label> 
						<div class="propertyValue col-md-9">
							<div id="typeButton"></div>
							<div>
								<span class="lb-help-block form-text text-muted mt-2 mb-3 pl-1" localize="realm.type.info"></span>
							</div>
						</div>
					</div>
					<div id="realmProperties"></div>
					<input name="id" id="id" type="hidden" class="formInput" />
				</div>
				<div class="modal-footer"></div>
			</div>
		</div>
	</div>
	<div id="additionalActions"></div>
<script type="text/javascript">

	legacyjQueryReadyFix(function() {
		var typeButton = $('#typeButton').selectButton({
			id: 'type',
			url: 'realms/providers',
			nameAttr: 'module',
			valueAttr: 'module',
			nameIsResourceKey: true,
			resourceKeyTemplate: 'realm.{0}.label',
			name: 'local',
			value: 'local',
			getUrlData: function(data) {
				return data.resources;
			},
			changed: function(widget) {
				if(typeButton.isEnabled()) {
					$('#realmProperties').propertyPage({ 
						url : 'realms/template/' + widget.getSelectedObject().module, 
						showButtons : false, 
						useFilters: true,
						resource: widget.getSelectedObject().module,
						i18nNamespace: widget.getSelectedObject().module,
						canUpdate : currentMenu.canUpdate, 
						displayMode: "admin,create,parent",
						useTemplates : true 
					});
				}
			}
		});
	});
</script>